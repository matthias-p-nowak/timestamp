<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Timestamp Tracker: Example Mobile View</title>
    <style>
      :root {
        font-family: "Source Sans Pro", system-ui, -apple-system, BlinkMacSystemFont,
          "Segoe UI", sans-serif;
        color: #111;
        background: #f4f4f6;
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        padding: 1rem;
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: flex-start;
        background: linear-gradient(180deg, #f4f4f6 0%, #e9edef 100%);
      }

      .device-frame {
        width: min(420px, 100%);
        background: white;
        border-radius: 32px;
        box-shadow: 0 30px 60px rgba(0, 0, 0, 0.2);
        padding-bottom: 1rem;
        overflow: hidden;
      }

      header {
        padding: 1rem 1.25rem;
        background: #1d7a0a;
        color: white;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 1rem;
        position: sticky;
        top: 0;
      }

      header h1 {
        margin: 0;
        font-size: 1rem;
        letter-spacing: 0.05em;
        text-transform: uppercase;
      }

      header button {
        border: none;
        border-radius: 999px;
        padding: 0.65rem 1.5rem;
        font-size: 0.9rem;
        color: #183812;
        background: #08f700;
        font-weight: 600;
        box-shadow: inset 0 0 0 1px rgba(18, 28, 56, 0.15);
      }

      main {
        display: flex;
        flex-direction: column;
        gap: 0.85rem;
        padding: 1rem 1rem 1.25rem;
      }

      .week-card {
        background: #f9fbff;
        border-radius: 18px;
        padding: 0.95rem 1rem 1rem;
        border: 1px solid rgba(18, 28, 56, 0.08);
      }

      .week-heading {
        font-size: 0.85rem;
        font-weight: 600;
        text-transform: uppercase;
        color: #3d4f71;
        margin-bottom: 0.5rem;
        letter-spacing: 0.05em;
      }

      .day-row {
        display: grid;
        grid-template-columns: 1.5fr 1.5fr 1fr;
        padding: 0.45rem 0;
        border-bottom: 1px solid rgba(18, 28, 56, 0.08);
        font-size: 0.9rem;
        gap: 0.35rem;
        align-items: center;
        cursor: pointer;
      }

      .day-row:last-child {
        border-bottom: none;
      }

      .day-row:hover {
        background: rgba(29, 122, 10, 0.04);
      }

      .day-row:focus-visible {
        outline: 2px solid #1d7a0a;
        outline-offset: 2px;
        border-radius: 6px;
      }

      .weekday {
        font-weight: 600;
        color: #1f2c45;
      }

      .times {
        color: #4a5770;
      }

      .time-pairs {
        display: grid;
        justify-items: start;
        gap: 0.15rem;
      }

      .time-pair {
        white-space: nowrap;
      }

      .totals {
        font-family: "JetBrains Mono", "Courier New", monospace;
        color: #0c7b3a;
        text-align: right;
        white-space: nowrap;
      }

      .editor-overlay {
        position: fixed;
        inset: 0;
        background: rgba(12, 18, 27, 0.55);
        display: none;
        align-items: flex-end;
        justify-content: center;
        padding: 0.8rem;
        z-index: 50;
      }

      .editor-overlay.is-open {
        display: flex;
      }

      .editor-modal {
        width: min(420px, 100%);
        background: white;
        border-radius: 16px;
        box-shadow: 0 22px 45px rgba(10, 15, 24, 0.35);
        padding: 1rem;
      }

      .pair-grid {
        display: grid;
        gap: 0.45rem;
      }

      .pair-row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 0.45rem;
      }

      .pair-input {
        width: 100%;
        border: 1px solid #d4dce8;
        border-radius: 9px;
        padding: 0.42rem 0.52rem;
        font-size: 0.86rem;
        color: #1f2c45;
      }

      .editor-actions {
        display: flex;
        justify-content: flex-start;
        margin-top: 0.65rem;
      }

      .add-pair-btn {
        border: none;
        border-radius: 999px;
        background: #e8eef8;
        color: #1f2c45;
        font-size: 0.8rem;
        font-weight: 600;
        padding: 0.42rem 0.85rem;
      }

      .editor-footer {
        margin-top: 0.85rem;
        display: flex;
        justify-content: flex-end;
        gap: 0.45rem;
      }

      .modal-btn {
        border: none;
        border-radius: 999px;
        padding: 0.5rem 0.95rem;
        font-size: 0.82rem;
        font-weight: 600;
      }

      .modal-btn-cancel {
        background: #edf1f8;
        color: #1f2c45;
      }

      .modal-btn-save {
        background: #1f8a0a;
        color: white;
      }

      .note {
        font-size: 0.75rem;
        color: #5c6575;
        text-align: center;
        margin-top: 0.5rem;
      }

      .version-stamp {
        margin: 0.75rem 0.25rem 0;
        text-align: center;
        color: #8a9099;
        font-size: 0.66rem;
        letter-spacing: 0.03em;
      }

      .add-date-row {
        margin: 0.35rem 1rem 0;
        display: flex;
        justify-content: center;
      }

      .calendar-add-btn {
        border: 1px solid rgba(29, 122, 10, 0.45);
        border-radius: 999px;
        background: #eff8ef;
        color: #1f2c45;
        font-size: 0.78rem;
        font-weight: 600;
        padding: 0.35rem 0.8rem;
      }

      .visually-hidden {
        position: absolute;
        width: 1px;
        height: 1px;
        margin: -1px;
        border: 0;
        padding: 0;
        overflow: hidden;
        clip: rect(0 0 0 0);
      }

      .pill {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 0.35rem;
        padding: 0.2rem 0.65rem;
        border-radius: 999px;
        background: #e1ffeb;
        color: #03a125;
        font-size: 0.75rem;
      }

    </style>
  </head>
  <body>
    <div class="device-frame" role="main">
      <header>
        <h1>Timestamp</h1>
        <button aria-label="Check in or out">Check out</button>
      </header>

      <main>
        <div class="week-card" aria-label="Week 07 overview">
          <div class="week-heading">
            <span class="pill">Week 7</span>
            <span aria-hidden="true">â€¢</span>
            <span>Feb 9â€“15</span>
          </div>
          <div class="day-row" data-day="Monday" role="button" tabindex="0" aria-label="Edit Monday">
            <span class="weekday">Monday</span>
            <span class="times">
              <span class="time-pairs">
                <span class="time-pair">08:05 - 16:10</span>
              </span>
            </span>
            <span class="totals">8.08 / 0.50</span>
          </div>
          <div class="day-row" data-day="Tuesday" role="button" tabindex="0" aria-label="Edit Tuesday">
            <span class="weekday">Tuesday</span>
            <span class="times">
              <span class="time-pairs">
                <span class="time-pair">08:00 - 11:32</span>
                <span class="time-pair">11:48 - 14:20</span>
                <span class="time-pair">14:35 - 16:02</span>
              </span>
            </span>
            <span class="totals">8.03 / 0.45</span>
          </div>
          <div class="day-row" data-day="Wednesday" role="button" tabindex="0" aria-label="Edit Wednesday">
            <span class="weekday">Wednesday</span>
            <span class="times">
              <span class="time-pairs">
                <span class="time-pair">08:12 - 12:05</span>
                <span class="time-pair">12:40 - 16:10</span>
              </span>
            </span>
            <span class="totals">7.97 / 0.35</span>
          </div>
          <div class="day-row" data-day="Thursday" role="button" tabindex="0" aria-label="Edit Thursday">
            <span class="weekday">Thursday</span>
            <span class="times">
              <span class="time-pairs">
                <span class="time-pair">08:00 - 16:10</span>
              </span>
            </span>
            <span class="totals">8.17 / 0.40</span>
          </div>
          <div class="day-row" data-day="Friday" role="button" tabindex="0" aria-label="Edit Friday">
            <span class="weekday">Friday</span>
            <span class="times">
              <span class="time-pairs">
                <span class="time-pair">08:10 - 10:50</span>
                <span class="time-pair">11:10 - 13:30</span>
                <span class="time-pair">13:45 - 15:22</span>
              </span>
            </span>
            <span class="totals">7.20 / 0.25</span>
          </div>
          <div class="day-row" data-day="Saturday" role="button" tabindex="0" aria-label="Edit Saturday">
            <span class="weekday">Saturday</span>
            <span class="times">â€”</span>
            <span class="totals">0.00 / 0.00</span>
          </div>
          <div class="day-row" data-day="Sunday" role="button" tabindex="0" aria-label="Edit Sunday">
            <span class="weekday">Sunday</span>
            <span class="times">â€”</span>
            <span class="totals">0.00 / 0.00</span>
          </div>
        </div>

        <div class="week-card" aria-label="Week 06 overview">
          <div class="week-heading">
            <span class="pill">Week 6</span>
            <span aria-hidden="true">â€¢</span>
            <span>Feb 2â€“8</span>
          </div>
          <div class="day-row" data-day="Monday" role="button" tabindex="0" aria-label="Edit Monday">
            <span class="weekday">Monday</span>
            <span class="times">
              <span class="time-pairs">
                <span class="time-pair">07:55 - 16:05</span>
              </span>
            </span>
            <span class="totals">8.17 / 0.50</span>
          </div>
          <div class="day-row" data-day="Tuesday" role="button" tabindex="0" aria-label="Edit Tuesday">
            <span class="weekday">Tuesday</span>
            <span class="times">
              <span class="time-pairs">
                <span class="time-pair">08:10 - 12:00</span>
                <span class="time-pair">12:30 - 16:20</span>
              </span>
            </span>
            <span class="totals">8.17 / 0.55</span>
          </div>
          <div class="day-row" data-day="Wednesday" role="button" tabindex="0" aria-label="Edit Wednesday">
            <span class="weekday">Wednesday</span>
            <span class="times">
              <span class="time-pairs">
                <span class="time-pair">08:05 - 10:40</span>
                <span class="time-pair">10:55 - 13:35</span>
                <span class="time-pair">13:55 - 16:08</span>
              </span>
            </span>
            <span class="totals">8.03 / 0.45</span>
          </div>
          <div class="day-row" data-day="Thursday" role="button" tabindex="0" aria-label="Edit Thursday">
            <span class="weekday">Thursday</span>
            <span class="times">
              <span class="time-pairs">
                <span class="time-pair">08:00 - 16:00</span>
              </span>
            </span>
            <span class="totals">8.00 / 0.40</span>
          </div>
          <div class="day-row" data-day="Friday" role="button" tabindex="0" aria-label="Edit Friday">
            <span class="weekday">Friday</span>
            <span class="times">
              <span class="time-pairs">
                <span class="time-pair">08:10 - 11:45</span>
                <span class="time-pair">12:15 - 15:45</span>
              </span>
            </span>
            <span class="totals">7.58 / 0.30</span>
          </div>
          <div class="day-row" data-day="Saturday" role="button" tabindex="0" aria-label="Edit Saturday">
            <span class="weekday">Saturday</span>
            <span class="times">â€”</span>
            <span class="totals">0.00 / 0.00</span>
          </div>
          <div class="day-row" data-day="Sunday" role="button" tabindex="0" aria-label="Edit Sunday">
            <span class="weekday">Sunday</span>
            <span class="times">â€”</span>
            <span class="totals">0.00 / 0.00</span>
          </div>
        </div>
      </main>
      <div class="add-date-row">
        <input id="calendarDateInput" class="visually-hidden" type="date" />
        <button type="button" class="calendar-add-btn" id="calendarAddBtn" aria-label="Add entries by date">ðŸ“… Add day</button>
      </div>
      <footer class="version-stamp" aria-label="Version stamp">2026-02-14-11-55</footer>
    </div>
    <div class="editor-overlay" id="dayEditor" aria-hidden="true">
      <div class="editor-modal" role="dialog" aria-modal="true" aria-label="Edit day">
        <div class="pair-grid" id="pairGrid"></div>
        <div class="editor-actions">
          <button type="button" class="add-pair-btn" id="addPairBtn">Add pair</button>
        </div>
        <div class="editor-footer">
          <button type="button" class="modal-btn modal-btn-cancel" id="editorCancel">Cancel</button>
          <button type="button" class="modal-btn modal-btn-save" id="editorSave">Save</button>
        </div>
      </div>
    </div>
    <script>
      const overlay = document.getElementById("dayEditor");
      const pairGrid = document.getElementById("pairGrid");
      const addPairBtn = document.getElementById("addPairBtn");
      const closeButtons = [document.getElementById("editorCancel"), document.getElementById("editorSave")];
      const calendarDateInput = document.getElementById("calendarDateInput");
      const calendarAddBtn = document.getElementById("calendarAddBtn");
      const useNativeTimeInput = typeof window.matchMedia === "function" &&
        window.matchMedia("(pointer: coarse)").matches;

      function addPairInputRow(inValue, outValue) {
        const row = document.createElement("div");
        row.className = "pair-row";

        const inInput = document.createElement("input");
        inInput.className = "pair-input";
        if (useNativeTimeInput) {
          inInput.type = "time";
          inInput.step = "60";
        } else {
          inInput.type = "text";
          inInput.placeholder = "Check in";
        }
        inInput.value = inValue || "";

        const outInput = document.createElement("input");
        outInput.className = "pair-input";
        if (useNativeTimeInput) {
          outInput.type = "time";
          outInput.step = "60";
        } else {
          outInput.type = "text";
          outInput.placeholder = "Check out";
        }
        outInput.value = outValue || "";

        row.appendChild(inInput);
        row.appendChild(outInput);
        pairGrid.appendChild(row);
      }

      function fillModalFromRow(row) {
        pairGrid.innerHTML = "";
        const pairs = Array.from(row.querySelectorAll(".time-pair")).map((item) => item.textContent.trim());

        if (pairs.length === 0) {
          addPairInputRow("", "");
          return;
        }

        pairs.forEach((text) => {
          const split = text.split("-");
          const inValue = split[0] ? split[0].trim() : "";
          const outValue = split[1] ? split[1].trim() : "";
          addPairInputRow(inValue, outValue);
        });
      }

      function openModal(row) {
        fillModalFromRow(row);
        overlay.classList.add("is-open");
        overlay.setAttribute("aria-hidden", "false");
      }

      function openModalForDate(dateValue) {
        pairGrid.innerHTML = "";
        addPairInputRow("", "");
        overlay.classList.add("is-open");
        overlay.setAttribute("aria-hidden", "false");
        overlay.dataset.selectedDate = dateValue;
      }

      function setDatePickerRangeToLast8Weeks() {
        const now = new Date();
        const day = now.getDay();
        const mondayOffset = (day + 6) % 7;
        const thisMonday = new Date(now.getFullYear(), now.getMonth(), now.getDate() - mondayOffset);
        const minDate = new Date(thisMonday);
        minDate.setDate(minDate.getDate() - (7 * 7));

        const toIsoDate = (value) => {
          const yyyy = String(value.getFullYear());
          const mm = String(value.getMonth() + 1).padStart(2, "0");
          const dd = String(value.getDate()).padStart(2, "0");
          return `${yyyy}-${mm}-${dd}`;
        };

        calendarDateInput.min = toIsoDate(minDate);
        calendarDateInput.max = toIsoDate(now);
      }

      function closeModal() {
        overlay.classList.remove("is-open");
        overlay.setAttribute("aria-hidden", "true");
      }

      document.querySelectorAll(".day-row").forEach((row) => {
        row.addEventListener("click", () => {
          openModal(row);
        });

        row.addEventListener("keydown", (event) => {
          if (event.key === "Enter" || event.key === " ") {
            event.preventDefault();
            openModal(row);
          }
        });
      });

      closeButtons.forEach((button) => {
        button.addEventListener("click", closeModal);
      });

      addPairBtn.addEventListener("click", () => {
        addPairInputRow("", "");
      });

      calendarAddBtn.addEventListener("click", () => {
        if (typeof calendarDateInput.showPicker === "function") {
          calendarDateInput.showPicker();
          return;
        }
        calendarDateInput.click();
      });

      calendarDateInput.addEventListener("change", () => {
        if (!calendarDateInput.value) {
          return;
        }
        openModalForDate(calendarDateInput.value);
      });

      overlay.addEventListener("click", (event) => {
        if (event.target === overlay) {
          closeModal();
        }
      });

      setDatePickerRangeToLast8Weeks();
    </script>
  </body>
</html>
